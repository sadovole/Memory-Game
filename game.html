<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Game ‚Äî Play</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="site-header">
    <h1>Memory Game</h1>
    <div class="header-buttons">
      <!-- Added Results button next to Logout -->
      <button id="go-to-results-btn">Results</button>
      <button id="logout-btn">Logout</button>
    </div>
  </header>

  <main class="game-main-container">
    <!-- Left column: Game Info -->
    <aside class="game-info-container">
      <h2>Game Controls</h2>
      <div class="game-info">
        <label for="difficulty-select">Difficulty:</label>
        <select id="difficulty-select">
          <option value="4x4" selected>4 √ó 4 (8 Pairs)</option>
          <option value="4x6">4 √ó 6 (12 Pairs)</option>
          <option value="6x6">6 √ó 6 (18 Pairs)</option>
        </select>
      </div>
      <div class="game-info">
        <span>Player: <strong id="player-name"></strong></span>
      </div>
      <div class="game-info">
        <span>Moves: <strong id="move-count">0</strong></span>
      </div>
      <div class="game-info">
        <span>Time: <strong id="timer">00:00</strong></span>
      </div>
      <p id="offline-status-game" class="hidden">
        You are offline. Results will not be saved.
      </p>
      <button id="start-game-btn">Start Game</button>
      <button id="toggle-music-btn">üîà Music On</button>
    </aside>

    <!-- Center column: Card Grid + Matched Zone + Rules -->
    <section class="center-container">
      <h2>Card Grid</h2>
      <div id="game-grid" class="game-grid size-4x4"></div>

      <section class="matched-zone-section">
        <h2>Matched Pairs (Drag Here)</h2>
        <div id="matched-zone" class="matched-zone size-4x4"></div>
      </section>

      <section class="game-rules">
        <h2>How to Play</h2>
        <p>
          1. Click ‚ÄúStart Game‚Äù to begin. All cards briefly flip face‚Äêup for 5 seconds.<br>
          2. After 5 seconds, cards flip back and the timer starts. Click any two cards to flip them over.<br>
          3. If the two cards match, they remain face‚Äêup and you can drag one of them into the ‚ÄúMatched Pairs‚Äù area. The other matching card will vanish from the grid (leaving an empty slot).<br>
          4. If they do not match, they flip face‚Äêdown again after one second.<br>
          5. The game ends when all pairs are matched. You can then save your result or play again.
        </p>
      </section>
    </section>

    <!-- Right column: Chat Section -->
    <aside class="chat-container">
      <h2>Game Chat</h2>
      <div id="chat-log" class="chat-log"></div>
      <div class="chat-input-area">
        <input type="text" id="chat-input" placeholder="Type a message‚Ä¶">
        <button id="chat-send-btn">Send</button>
      </div>
    </aside>
  </main>

<!-- ==============================================
     Modal Overlay (initially hidden)
     ============================================== -->
     <div id="game-over-overlay" class="overlay hidden">
      <div class="modal-content">
        <h2>Game Over!</h2>
        <p>Your Time: <span id="final-time"></span></p>
        <p>Your Moves: <span id="final-moves"></span></p>
        <div class="modal-buttons">
          <button id="save-result-btn" class="btn btn-primary">Save Result</button>
          <button id="play-again-btn" class="btn btn-secondary">Play Again</button>
        </div>
      </div>
    </div>

  <!-- Audio elements -->
  <audio id="flip-sound" src="assets/audio/flip.mp3" preload="auto"></audio>
  <audio id="match-sound" src="assets/audio/match.mp3" preload="auto"></audio>
  <audio id="bg-music" src="assets/audio/background.mp3" loop></audio>

  <!-- Template for dynamic SVG insertion -->
  <template id="svg-template">
    <div class="svg-container"></div>
  </template>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="js/app.js"></script>
  <script src="js/game.js"></script>
</body>
</html>